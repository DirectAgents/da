Type.registerNamespace("SCS");SCS.Splitter=function(a){SCS.Splitter.initializeBase(this,[a]);this._isInInit=true;this._dragging=false;this._redrawWhileDragging=false;this._isExpanded=true;this._leftPosition=300;this._prevLeftPosition;this._leftSnap=30;this._leftMinWidth=0;this._leftMaxWidth=-1;this._paneContainer;this._leftPane;this._rightPane;this._divider;this._stateHolder;this._mouseUpHandler;this._mouseDownHandler;this._doubleClickHandler;this._dragHandler;this._selectStartHandler;this._docMouseUpHandler;this._docMouseMoveHandler;this._docKeyPressHandler;this._resizeHandler};SCS.Splitter.prototype={initialize:function(){SCS.Splitter.callBaseMethod(this,"initialize");this._paneContainer=this._getFirstChild(this.get_element());this._leftPane=this._getFirstChild(this._paneContainer);this._divider=this._getNextSibling(this._leftPane);this._rightPane=this._getNextSibling(this._divider);this._stateHolder=this._getNextSibling(this._rightPane);this._docKeyPressHandler=Function.createDelegate(this,this._onDocKeyPress);$addHandler(document,"keypress",this._docKeyPressHandler);this._mouseUpHandler=Function.createDelegate(this,this._onMouseUp);$addHandler(this._divider,"mouseup",this._mouseUpHandler);this._mouseDownHandler=Function.createDelegate(this,this._onMouseDown);$addHandler(this._divider,"mousedown",this._mouseDownHandler);this._doubleClickHandler=Function.createDelegate(this,this._onDoubleClick);$addHandler(this._divider,"dblclick",this._doubleClickHandler);this._dragHandler=Function.createDelegate(this,this._onDrag);$addHandler(document.body,"drag",this._dragHandler);this._selectStartHandler=Function.createDelegate(this,this._onStart);$addHandler(document.body,"selectstart",this._selectStartHandler);this._resizeHandler=Function.createDelegate(this,this._onResize);$addHandler(window,"resize",this._resizeHandler);this._onResize();this._redaw(this._leftPosition);this._isInInit=false},dispose:function(){try{$addHandler(document,"keypress",this._docKeyPressHandler);this._docKeyPressHandler=null;$removeHandler(this._divider,"mouseup",this._mouseUpHandler);this._mouseUpHandler=null;$removeHandler(this._divider,"mousedown",this._mouseDownHandler);this._mouseDownHandler=null;$removeHandler(this._divider,"dblclick",this._doubleClickHandler);this._doubleClickHandler=null;$removeHandler(document.body,"drag",this._dragHandler);this._dragHandler=null;$removeHandler(document.body,"selectstart",this._selectStartHandler);this._selectStartHandler=null;$removeHandler(window,"resize",this._resizeHandler);this._resizeHandler=null;SCS.Splitter.callBaseMethod(this,"dispose")}catch(a){}},_onMouseUp:function(){this._stopDragging()},_onMouseDown:function(a){a.preventDefault();if(this._dragging){this._stopDragging();return}this._dragging=true;this._divider.parrentOffsetX=this._getElementLeft(this._divider.parentNode)+a.clientX-this._getElementLeft(this._divider);this._docMouseMoveHandler=Function.createDelegate(this,this._onDocMouseMove);$addHandler(document,"mousemove",this._docMouseMoveHandler);this._docMouseUpHandler=Function.createDelegate(this,this._onDocMouseUp);$addHandler(document,"mouseup",this._docMouseUpHandler)},_onDocKeyPress:function(a){if(a.charCode==116){var b=a.target;b.tagName.toLowerCase()!="input"&&b.tagName.toLowerCase()!="textarea"&&this.toggleDivider();a.stopPropagation()}else a.charCode==27&&this._stopDragging()},_onDoubleClick:function(){this.toggleDivider()},_onDrag:function(){return!this._dragging},_onStart:function(){return!this._dragging},_onDocMouseUp:function(a){this._onMouseUp(a)},_onDocMouseMove:function(a){this._mouseMove(a)},_onResize:function(){var a=Sys.Browser;if(a.InternetExplorer){var b=a.version;if(b>=7&&b<8)if(this._paneContainer.offsetHeight==document.documentElement.clientHeight)this._paneContainer.style.height=document.documentElement.clientHeight;else this._paneContainer.style.height=this.get_element().offsetHeight}},_updateState:function(){this._stateHolder.value=String.format("{0},{1}",this._leftPosition,this._isExpanded)},toggleDivider:function(){var a=new SCS.SplitterTogglingEventArgs(this._isExpanded);this.raiseToggling(a);if(a.get_cancel())return;this._openCollapse();this.raiseToggled(Sys.EventArgs.Empty)},_stopDragging:function(){if(this._docMouseMoveHandler){$removeHandler(document,"mousemove",this._docMouseMoveHandler);this._docMouseMoveHandler=null}if(this._docMouseUpHandler){$removeHandler(document,"mouseup",this._docMouseUpHandler);this._docMouseUpHandler=null}this._dragging=false;var a=this._divider.offsetLeft,b=new SCS.SplitterResizingEventArgs(a);this.raiseResizing(b);if(b.get_cancel())a=this._leftPosition;this._redaw(a);!b.get_cancel()&&this.raiseResized(Sys.EventArgs.Empty)},_redaw:function(a){if(this._leftMinWidth<1&&a<=this._leftSnap){this._leftPane.style.display="none";this._divider.style.left="0px";this._isExpanded=false}else{this._leftPane.style.display=a>0?"block":"none";this._divider.style.left=a+"px";this._leftPane.style.width=a+"px";this._isExpanded=true}this._prevLeftPosition=this._leftPosition;this._leftPosition=a;this._updateState()},_mouseMove:function(c){var a=c.clientX-this._divider.parrentOffsetX;if(this._leftMinWidth<1&&a<=this._leftSnap)a=0;else if(a<=this._leftMinWidth)a=this._leftMinWidth;else if(this._leftMaxWidth!=-1&&a>=this._leftMaxWidth)a=this._leftMaxWidth;var b=new SCS.SplitterDraggingEventArgs(a);this.raiseDragging(b);if(b.get_cancel())return;this._divider.style.left=a+"px";this._redrawWhileDragging&&this._redaw(this._divider.offsetLeft);return false},_getFirstChild:function(a){a=a.firstChild;while(a.nodeType!=1)a=a.nextSibling;return a},_getNextSibling:function(a){a=a.nextSibling;while(a.nodeType!=1)a=a.nextSibling;return a},_getElementLeft:function(a){var b=0;while(a!=null){b+=a.offsetLeft;a=a.offsetParent}return b},_openCollapse:function(){this._redaw(this._divider.offsetLeft==0?this._prevLeftPosition:0)},_trace:function(b){var a=$get("splitter-trace");if(a)a.innerHTML=b+"<br/><br/>"+a.innerHTML},changeTopPosition:function(a){if(!a.toString().toLowerCase().endsWith("px"))a=a+"px";this.get_element().style.top=a},add_toggling:function(a){this.get_events().addHandler("toggling",a)},remove_toggling:function(a){this.get_events().removeHandler("toggling",a)},raiseToggling:function(b){var a=this.get_events().getHandler("toggling");a&&a(this,b)},add_toggled:function(a){this.get_events().addHandler("toggled",a)},remove_toggled:function(a){this.get_events().removeHandler("toggled",a)},raiseToggled:function(b){var a=this.get_events().getHandler("toggled");a&&a(this,b)},add_dragging:function(a){this.get_events().addHandler("dragging",a)},remove_dragging:function(a){this.get_events().removeHandler("dragging",a)},raiseDragging:function(b){var a=this.get_events().getHandler("dragging");a&&a(this,b)},add_resizing:function(a){this.get_events().addHandler("resizing",a)},remove_resizing:function(a){this.get_events().removeHandler("resizing",a)},raiseResizing:function(b){var a=this.get_events().getHandler("resizing");a&&a(this,b)},add_resized:function(a){this.get_events().addHandler("resized",a)},remove_resized:function(a){this.get_events().removeHandler("resized",a)},raiseResized:function(b){var a=this.get_events().getHandler("resized");a&&a(this,b)},get_leftPosition:function(){return this._leftPosition},set_leftPosition:function(a){!this._isInInit&&a!=this._leftPosition&&a<this._leftMaxWidth&&a>this._leftMinWidth&&this._redaw(a);this._prevLeftPosition=this._leftPosition;this._leftPosition=a},get_leftSnap:function(){return this._leftSnap},set_leftSnap:function(a){this._leftSnap=a},get_leftMinWidth:function(){return this._leftMinWidth},set_leftMinWidth:function(a){this._leftMinWidth=a},get_leftMaxWidth:function(){return this._leftMaxWidth},set_leftMaxWidth:function(a){this._leftMaxWidth=a},set_isExpanded:function(a){!this._isInInit&&a!=this._isExpanded&&this._openCollapse();this._isExpanded=a},get_isExpanded:function(){return this._isExpanded},get_redrawWhileDragging:function(){return this._redrawWhileDragging},set_redrawWhileDragging:function(a){this._redrawWhileDragging=a}};SCS.Splitter.registerClass("SCS.Splitter",Sys.UI.Behavior);SCS.SplitterTogglingEventArgs=function(a){SCS.SplitterTogglingEventArgs.initializeBase(this);this._expanded=a};SCS.SplitterTogglingEventArgs.prototype={get_expanded:function(){return this._expanded},set_expanded:function(a){this._expanded=a}};SCS.SplitterTogglingEventArgs.registerClass("SCS.SplitterTogglingEventArgs",Sys.CancelEventArgs);SCS.SplitterResizingEventArgs=function(a){SCS.SplitterResizingEventArgs.initializeBase(this);this._leftWidth=a};SCS.SplitterResizingEventArgs.prototype={get_leftWidth:function(){return this._leftWidth},set_leftWidth:function(a){this._leftWidth=a}};SCS.SplitterResizingEventArgs.registerClass("SCS.SplitterResizingEventArgs",Sys.CancelEventArgs);SCS.SplitterDraggingEventArgs=function(a){SCS.SplitterDraggingEventArgs.initializeBase(this);this._leftWidth=a};SCS.SplitterDraggingEventArgs.prototype={get_leftWidth:function(){return this._leftWidth},set_leftWidth:function(a){this._leftWidth=a}};SCS.SplitterDraggingEventArgs.registerClass("SCS.SplitterDraggingEventArgs",Sys.CancelEventArgs);typeof Sys!=="undefined"&&Sys.Application.notifyScriptLoaded();