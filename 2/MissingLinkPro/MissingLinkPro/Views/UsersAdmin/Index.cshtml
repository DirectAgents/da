@model IEnumerable<IdentitySample.Models.ApplicationUser>

@{
    ViewBag.Title = "Users Admin";
}

<section>
    <h2 class="topic">Users Admin</h2>
    <p>Click on UserName, FirstName, LastName, or Package to alphabetically sort all listed users.</p>
    <p>You may manually enable EmailConfirmed for any users that do not receive a confirmation email.
        You may also manually change their Package setting, even when there isn't a credit card present.
    </p>
    <p>500 Internal Server Errors typically occur if a CustomerId or SubscriptionId doesn't match what it sees on Stripe's end.
        You may manually edit your user's IDs if needed.
    </p>
<div class="" style="padding:50px;">
<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table id="table" class="table" style="margin-left:auto; margin-right:auto; width: 950px;">
    <thead>
        <tr>
        <th data-sort="string" style="text-align:left;">@Html.DisplayNameFor(model => model.UserName)</th>
        <th data-sort="string" style="text-align:left;">@Html.DisplayNameFor(model => model.FirstName)</th>
        <th data-sort="string" style="text-align:left;">@Html.DisplayNameFor(model => model.LastName)</th>
        <th data-sort="string" style="text-align:left;">@Html.DisplayNameFor(model => model.PackageId)</th>
        <th style="text-align:left;">@Html.DisplayNameFor(model => model.EmailConfirmed)</th>
        <th style="text-align:left;">Options</th>
        </tr>
    </thead>
    <tbody>
    @foreach (var item in Model)
    {
        <tr>
            <td>@Html.DisplayFor(modelItem => item.UserName)</td>
            <td>@Html.DisplayFor(modelItem => item.FirstName)</td>
            <td>@Html.DisplayFor(modelItem => item.LastName)</td>
            <td>@Html.DisplayFor(modelItem => item.Package.Name)</td>
            <td>@Html.DisplayFor(modelItem => item.EmailConfirmed)</td>
            <td>@Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.Id })
            </td>
        </tr>
    }
    </tbody>
</table>

    </div>
    </section>
<br /><br /><br />

@section Scripts {
<script src="~/Scripts/stupidtable.min.js" type="text/javascript"></script>
<script>
     $(function(){
        $("table").stupidtable();
     });
</script>
}